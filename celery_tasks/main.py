from celery import Celery# 为celery使用django配置文件进行设置 # 未明白做什么的import osif not os.getenv('DJANGO_SETTINGS_MODULE'):    os.environ['DJANGO_SETTINGS_MODULE'] = 'zmeiduo.settings.dev'# 1.创建celery客户端对象celery_app = Celery('meiduo')# 2.加载celery的配置, 让生产者知道自己生产的任务存放到哪?celery_app.config_from_object('celery_tasks.config')# 3.自动注册任务(告诉生产者,它能生产什么亲的任务)celery_app.autodiscover_tasks(['celery_tasks.sms', 'celery_tasks.email'])# 启动消费者命令：# celery -A celery_tasks.main worker -l info# 注意：如果是windows环境 ,需要安装 pip install eventlet ,再执行 celery -A <mymodule> worker -l info -P eventlet# 原因：就是说win10上运行celery4.x就会出现这个问题，解决办法如下,原理未知：# 例如命令：# celery -A celery_tasks.main worker -l info -P eventlet